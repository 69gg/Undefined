# 使用与功能说明

## 开始使用

1. 启动 OneBot 协议端（如 NapCat 或 Lagrange.Core）并登录 QQ。
2. 配置好 `config.toml` 并[启动 Undefined](deployment.md)。
3. 连接成功后，机器人即可在群聊或私聊中响应。

---

## Agent 能力展示

机器人通过自然语言理解用户意图，自动调度相应的专业 Agent，具有高度独立和自动化的能力：

*   **网络搜索提取**："搜索一下 DeepSeek 的最新动态"
*   **多模态文件分析**："总结一下群里长图说了什么"，"帮我提取这份 PDF 中的数据"
*   **B站视频解析**：发送 B 站链接/BV 号自动下载发送 1080p 视频，或指令 AI "下载这个 B 站视频 BV1xx411c7mD"
*   **代码分析与交付**："用 Python 写一个 HTTP 服务器，监听 8080 端口，返回 Hello World，验证通过后打包发到这个群" (交由 Code Delivery Agent)
*   **定时任务管理**："每天早上 8 点提醒我看新闻"
*   **向未来的自己发指令**："明天早上 9 点提醒你自己先总结今天群里的待办，再把前三项发给我"

### 定时任务进阶：调用未来的自己

定时任务除了调用普通工具外，还支持 `self_instruction` 模式。你可以把一段自然语言指令留给未来触发时刻的 AI 自己执行。

示例意图：
- “每周一 09:00，先回顾上周群聊重点，再提醒本周计划”
- “今天晚上 23:30，帮我生成明天的复盘提纲”

实现上由 `scheduler.create_schedule_task` / `scheduler.update_schedule_task` 的 `self_instruction` 参数承载（与 `tool_name`/`tools` 三选一）。

---

## 管理员命令 (斜杠指令)

> 💡 **进阶玩法**：想了解每个命令的具体使用参数，或者学习如何通过写几行代码**自定义属于你的独家斜杠指令**？请前往 [命令系统与斜杠指令配置指南](slash-commands.md)。

在群聊或私聊中使用以下指令（需要具备被设置的超级管理员或管理员权限）：

```bash
/help               # 查看帮助菜单
/lsadmin            # 查看当前所有的系统管理员列表
/addadmin <QQ>      # 添加新的普通管理员（仅限超级管理员使用）
/rmadmin <QQ>       # 移除某位普通管理员
/bugfix <QQ>        # 根据最近用户在群里的聊天上下文生成该用户的 Bug 修复报告 (幽默搞笑用)
/stats [时间范围] [--ai]    # 核心统计功能：获取 Token 使用统计 + 成本计算；加 --ai 才启用智能分析
```

### 关于 `/stats` 的详细说明：

- 默认统计最近 7 天的数据，时间参数范围会自动被系统钳制在 1 天 - 365 天之间。
- 默认只发送图表与基本摘要，不会触发 AI 智能分析。
- 仅在显式传入 `--ai`（或 `-a`）时才会请求 AI 分析；若分析超时，系统会先发图表与摘要并附超时提示。
